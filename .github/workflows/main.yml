name: ðŸš€ Deploy website on push
on:
  push:
    branches:
        - main
jobs:
  web-deploy:
    name: ðŸŽ‰ Deploy
    runs-on: ubuntu-latest
    steps:
    - name: ðŸšš Get latest code
      uses: actions/checkout@v3

    - name: ðŸ”¨ Build Project
      run: |
        npm install
        npm run build
        
    - name: GitHub Deploy to One.com
      uses: rostimelk/one.com-deployer@master
      env:
          ONE_DOMAIN_NAME: yourdomainname.com
          ONE_SSH_KEY_PUBLIC: ${{ secrets.SSH_KEY_PUBLIC }}
          ONE_SSH_KEY_PRIVATE: ${{ secrets.SSH_KEY_PRIVATE }}
          TPO_SRC_PATH: "./.next/"
          TPO_PATH: ""
